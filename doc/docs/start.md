# Развертывание

Для развертывания инфраструктуры тестирования достаточно выполнить следующие шаги (предполагается, что Тестер скачан и прописан в списке информационных баз):

1.  Конфигурация Тестер должна быть запущена в режиме 1С:Предприятие с ключом `/TESTMANAGER`.  
    Этот параметр может быть прописан непосредственно в профиле информационной базы Тестера, например так:  
    ![](/img/2016_11_09_01_09_311.png)  
     
2.  Тестируемая конфигурация должна быть запущена в режиме 1С:Предприятие с ключом `/TESTCLIENT`.  
    Этот параметр может быть прописан непосредственно в профиле тестируемой информационной базы, например так:  
    ![](/img/2016_11_09_01_13_542.png)
3.  Версия 1С, используемая для тестирования должна быть одинаковой как для Тестера, так и для тестируемой конфигурации.
4.  Запуск Тестера и тестируемой конфигурации желательно производить на одном компьютере. Для запуска программ на разных компьютерах, необходимо настроить порт и адрес тестируемого приложения в справочнике [Приложения](applications.md).

С технической точки зрения, для начала разработки тестов и тестирования больше ничего не требуется.

Первый сценарий
---------------

Рассмотрим пример создания теста к конфигурации БСП 2.2.

Напишем элементарный тест, который просто откроет форму списка справочника Партнеры.

1.  Запускаем Тестер с ключом `/TESTMANAGER`.
2.  Запускаем БСП с ключом `/TESTCLIENT`.
3.  Переключается в Тестер, открываем меню быстрых функций и создаем новое приложение:  
    ![](/img/2017_06_26_21_01_421.png)  
    ![](/img/2017_06_26_21_03_482.png)
4.  Через меню быстрых функций открываем сценарии и создадим новый сценарий
5.  В поле `ID` напишем `Test1`
6.  В тексте сценария напишем:
   
```
	Подключить (); // Подключаем БСП к Тестеру
	Меню ( "Справочники / Демо: Партнеры" ); // Открываем в БСП форму списка
```

7. Переключимся на вкладку `Свойства`, и в поле `Приложение` укажем БСП
8. Нажмем на панели кнопку `Основной`
9. Тест готов. Теперь нажмем кнопку `Запустить` (или `F5`) и запустим его.

В результате, в БСП должна открыться форма списка справочника Демо: Партнеры. Если бы во время открытия справочника, произошла какая-то ошибка, Тестер бы о ней сообщил.

Второй сценарий
---------------

Добавим в первый тест создание нового партнера, для этого внесем следующие изменения в сценарий:

    // Подключаем БСП к Тестеру
    Подключить ();
    
    // Закроем все окна в БСП
    ЗакрытьВсё ();
    
    // Открываем в БСП форму списка
    Меню ( "Справочники / Демо: Партнеры" );
    
    // Говорим Тестеру, что мы будем сейчас работать с этим окном
    Здесь ( "Демо: Партнеры" );
    
    // Нажмем кнопку Создать
    Нажать ( "Создать" );
    
    // Говорим Тестеру, что мы будем сейчас работать с этим окном
    Здесь ( "Демо: Партнер (создание)" );
    
    // Установим наименование партнера
    Установить ( "Наименование", "Мой тестовый партнер" );
    
    // Кликнем на флажок Поставщик
    Нажать ( "Поставщик" );
    
    // Нажмем кнопку Записать и закрыть
    Нажать ( "Записать и закрыть" );

После выполнения теста, в базе БСП должен быть новый партнер.

После выполнения теста, в окне сообщений Тестера, будет такое предупреждающее сообщение:

    14: Поле "Создать" найдено в нескольких местах: ФормаСоздать (Тестируемая кнопка формы / Кнопка командной панели), СписокКонтекстноеМенюСоздать (Тестируемая кнопка формы / Кнопка командной панели) {Тест1[14]}

Сообщение говорит о том, что в 14 строке кода, метод `Нажать` нашел несколько мест, где можно нажать `Создать`.

Для того, чтобы задавать однозначно объекты, с которыми требуется взаимодействие, можно использовать идентификаторы, или полный путь.

Например, в 14 строке можно написать так:

    // Вариант 1
    Нажать ( "!ФормаСоздать" );
    
    // Вариант 2
    Нажать ( "!КоманднаяПанель / Создать" );

Для получения идентификаторов и внутреннего содержимого форм тестируемого приложения, см раздел [Вкладка Поля](scenarios.md#FieldsPage).

Подробнее об организации интерфейса дерева сценариев см. [здесь](scenarios.md).
